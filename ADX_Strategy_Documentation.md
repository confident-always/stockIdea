# 简化ADX战法详细文档

## 概述

简化ADX战法是基于DMI（Directional Movement Index）指标的纯技术选股策略，专门用于识别ADX即将或刚好上穿MDI的股票。该战法去除了所有额外的过滤条件，只专注于DMI指标本身的信号，旨在捕捉趋势转换的关键时刻。

## 技术指标说明

### DMI指标系统

DMI（Directional Movement Index）由J. Welles Wilder Jr.开发，包含以下三个核心组件：

1. **PDI（Positive Directional Indicator）**：正向指标，衡量上涨动能
2. **MDI（Minus Directional Indicator）**：负向指标，衡量下跌动能  
3. **ADX（Average Directional Index）**：平均趋势指标，衡量趋势强度

### 计算方法（使用EMA平滑）

#### 1. 真实波幅（TR）
```
TR = max(high - low, abs(high - prev_close), abs(low - prev_close))
```

#### 2. 方向性移动（DM）
```
+DM = high - prev_high (当 high - prev_high > prev_low - low 且 high - prev_high > 0)
-DM = prev_low - low (当 prev_low - low > high - prev_high 且 prev_low - low > 0)
```

#### 3. EMA平滑处理
```
alpha = 2 / (period + 1)
平滑TR = TR的EMA平滑
平滑+DM = +DM的EMA平滑
平滑-DM = -DM的EMA平滑
```

#### 4. 方向性指标
```
PDI = (平滑+DM / 平滑TR) × 100
MDI = (平滑-DM / 平滑TR) × 100
```

#### 5. ADX计算
```
DX = abs(PDI - MDI) / (PDI + MDI) × 100
ADX = DX的EMA平滑
```

## 简化ADX战法核心逻辑

### 唯一筛选条件

**ADX上穿MDI信号**：
- 当日ADX > MDI
- 前一日ADX ≤ MDI（刚好上穿）或前一日ADX与MDI差值 ≤ 0.5（即将上穿）

### 信号意义

ADX上穿MDI通常表示：
- 趋势强度开始增强
- 市场从盘整或下跌状态转向上涨趋势
- 多头力量开始占据主导地位

### 简化的优势

1. **信号纯净**：不受其他指标干扰，专注于趋势转换信号
2. **响应及时**：没有额外过滤条件，能更快捕捉到信号
3. **逻辑清晰**：只关注ADX与MDI的关系，易于理解和验证
4. **适用性广**：不依赖特定市场环境或其他技术条件

## 参数配置

### 默认参数设置

```json
{
  "dmi_period": 39,          // DMI计算周期（固定）
  "cross_threshold": 1.0,    // ADX与MDI差值阈值（可调整）
  "lookback_days": 5         // 时间维度检查天数（新增）
}
```

### 参数说明

- **dmi_period**: DMI指标的计算周期，默认39天
- **cross_threshold**: ADX和MDI差值阈值，在指定天数内任何一天的差值小于等于此值即满足条件。默认1.0，可根据市场情况调整：
  - 较小值（如0.5-0.8）：更严格的差值条件，信号更精确但可能错过一些机会
  - 较大值（如1.2-1.5）：更宽松的差值条件，捕获更多潜在信号但可能增加假信号
- **lookback_days**: 时间维度检查天数，从今日起往前检查指定天数内ADX和MDI的差值。默认5天，可根据需要调整：
  - 较小值（如3天）：更严格的时间条件，只关注近期的差值情况
  - 较大值（如7-10天）：更宽松的时间条件，允许更长时间范围内的差值满足条件

### 策略逻辑更新

**新的选股条件**：
- 在指定的lookback_days天数内，任何一天ADX和MDI的差值在cross_threshold以内即可
- 不再要求ADX必须上穿MDI，而是关注两者的接近程度
- 时间维度的引入使策略更加灵活，能够捕获更多潜在机会

### 关键改进

1. **EMA替代Wilder平滑**：
   - 更快的响应速度
   - 更平滑的指标曲线
   - 减少滞后性

2. **去除额外条件**：
   - 不再要求ADX ≥ 25
   - 不再检查KDJ低位
   - 不再要求MACD > 0
   - 不再检查知行条件

3. **可配置阈值**：
   - cross_threshold参数可根据市场环境调整
   - 提供更灵活的策略配置

## 使用方法

### 1. 配置文件设置

在`configs.json`中的ADX战法配置：

```json
{
  "class": "ADXSelector",
  "alias": "ADX战法",
  "activate": true,
  "params": {
    "dmi_period": 39,
    "cross_threshold": 1.0
  }
}
```

### 2. 运行选股

```bash
python main.py --config configs.json --date 2024-01-15
```

### 3. 结果解读

选出的股票具备以下特征：
- ADX刚好或即将上穿MDI
- 趋势可能从盘整或下跌转向上涨

## 风险提示

1. **假突破风险**：ADX上穿MDI后可能出现假突破，需要后续确认
2. **无过滤机制**：去除额外条件后可能产生更多信号，包括一些质量较低的信号
3. **市场环境敏感**：在震荡市场中可能产生频繁的买卖信号
4. **需要止损**：由于没有额外的安全边际，更需要严格的止损策略

## 优化建议

1. **后续确认**：可以在选股后人工确认其他技术指标
2. **分批建仓**：由于信号较为激进，建议分批建仓
3. **严格止损**：设置较紧的止损位，控制单笔损失
4. **组合投资**：不要单一依赖此策略，与其他策略组合使用

## 与原版本对比

| 项目 | 原ADX战法 | 简化ADX战法 |
|------|-----------|-------------|
| ADX阈值 | ≥ 25 | 无要求 |
| KDJ条件 | J值低位 | 无要求 |
| MACD条件 | DIF > 0 | 无要求 |
| 知行条件 | 需要满足 | 无要求 |
| 平滑算法 | Wilder平滑 | EMA平滑 |
| 信号数量 | 较少但质量高 | 较多但需筛选 |
| 响应速度 | 较慢 | 较快 |

## 总结

简化ADX战法通过去除所有额外条件，专注于ADX上穿MDI这一核心信号，提供了一个更加纯净和及时的趋势转换识别工具。虽然可能产生更多信号，但也能更早地捕捉到趋势变化的机会。投资者需要结合自己的风险承受能力和投资策略来使用这个工具。